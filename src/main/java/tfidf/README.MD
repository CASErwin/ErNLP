## 1 查询query 相关的文档
### 1.1 训练语料
```
SearchDocumentTFIDF.train();
```
其实就是生成IDF文件。训练好的模型存放在 model/tfidf.txt，格式如下：
```
SogouC/Reduced/文化/1053.txt	孤独	0.00990099	5.750017	0.056930862
SogouC/Reduced/文化/1053.txt	对象	0.00990099	3.9813993	0.039419793
SogouC/Reduced/文化/1053.txt	投射	0.00990099	7.2839475	0.07211829
SogouC/Reduced/文化/1053.txt	榆野	0.01980198	9.681843	0.19171965
SogouC/Reduced/文化/1053.txt	著名	0.00990099	3.9714158	0.039320946
SogouC/Reduced/文化/1053.txt	感觉	0.00990099	3.447432	0.03413299
SogouC/Reduced/文化/1053.txt	四月	0.02970297	4.776568	0.14187826
```
### 1.2 使用示例
就是查询 5个最相关的文档
```
String query = "互联网的互联网今年行情不好";
RelateDocBean[] topNDocments = new SearchDocumentTFIDF().searchRelateDoc(query, 5);
for (RelateDocBean rd : topNDocments) {
    System.out.println(rd.toString());
    System.out.println("===================================================");
}
```
输出：
```
SogouC/Reduced/文化/670.txt	1.1056423
　　7、歌星影星　　唱歌和电影都干得比较差，不过其它方面能干的都干得很好，当然，还是要除了卖力气和卖脑子。　　8、猫腻事件策划者　　一切评奖，我李坏可以很负责任地告诉你：互联网怎么猜测都是正确。　　9、某些名车的主人　　主要是一些年轻漂亮女性或者比较有富态的女性，驾驶宝马车、奔驰车、林肯车等好车，最终还可以把原因归结给这些破车地撞人。引人注目的是，他们害怕互联网不是因为互联网告诉了大家他撞了人，主要是互联网会分析他到底是什么人。　　10、中国电信　　互联网和中国电信是一家人，但是网友和中国电信不是一家人。　　为什么会害怕互联网？　　有这么多人害怕互联网，为什么害怕，总结原因，不外乎都是怕见光。　　看互联网上的评论，一篇文章，上万条评论，怕不怕？怕，互联网的唾沫能够淹死你。　　互联网就是一把剑，互联网是能够杀人的。　　林肯车拖死女孩事件的肇事者，他说他害怕互联网，马加爵也害怕互联网，互联网上那么多人发表声音说要杀他，他就成了过街老鼠，当然很害怕。那么，现在，你还害怕互联网吗？你还敢说害怕互联网吗？我相信你一定会强装镇静：不怕！至于心里发虚没有，腿发软没有，额头冒汗没有，那只有你自己知道——当然，迟早互联网会让所有人知道。　　互联网是最好的舆论工具　　我们相信，如果没有互联网，很多事情可能会悄无声息地如同以前一样隐蔽地过去。比如刘亮宝马事件，如果没有互联网，刘亮哪怕至今还在喊他的作弊声音，当事者也不会有压力，有些监管部门也不会有压力，刘亮现在也不过是个继续高喊无人理睬的小丑。　　互联网是最好的舆论工具。互联网因为互动，因为平等和自由，成为最好的舆论工具。“用正面的声音主导互联网”，是国家也认识到了这个舆论工具的重要性。也不要以为互联网只给了人压力，实际上，互联网一样给了很多人赞扬，有很多美好的事物，互联网给了世间最美好的声音。　　互联网代表着民主、自由和平等，害怕互联网，就是害怕民主、自由和平等。　　已经有越来越多人在学用互联网这个工具，无论是申冤、暴光，还是宣传、扬名，抑或是商业行为，互联网都是难得的舆论的好工具。无论是谁，都应该把握和利用好这个工具，否则将会感受到互联网的沉重的压力。当然，一个前提是你得堂堂正正做人，别和互联网上的人作对。　　上一页&nbsp;[1]&nbsp;[2]&nbsp;
===================================================
SogouC/Reduced/文化/642.txt	0.46243495
　　在互联网上找骂的厉以宁，又来找骂，他说：互联网上说什么的都有，经济学家要顶住互联网的压力，坚持真理。　　厉以宁害怕互联网？一个见惯了大场面的经济学家，为什么会害怕互联网？想想不外乎“厉股份”，以及一些老百姓非常不喜欢的“真理”言论。其实除了厉以宁，一些经济学家对互联网也是有所顾忌的，应该说不少经济学家如同厉以宁一样，感受到了互联网的压力。　　除了这些经济学家，还有不少人在害怕着互联网。互联网正以一种无法阻挡的力量，使一些人和事物恐惧，然后埋没他们。　　十大害怕互联网的人　　谁在害怕互联网？回顾互联网在中国发展的过程中，有很多害怕互联网的人和事，盘点一下。　　1、贪官　　贪了钱或贪了色的官，以及一些不办公务或者不爱办公务的公务员。相关链接：贪官调查：有多少豪宅可以胡来？&nbsp;&nbsp;&nbsp;&nbsp;中国贪官外逃路线图揭秘 ：出逃准备过程需要1年　　贪官外逃一般要经过转移资产——家属先行——准备护照——猛捞一笔——辞职/不辞而别——藏匿寓所——获得身份的一系列过程，准备时间长，设计巧妙。所以当我们明晰了这些贪官的出逃路线图以后，下一步要做的就是把这些人堵死在国内，绳之以法，而不是将希望寄托于国外的司法机关能将这些人引渡回国&gt;&gt;&gt;延伸阅读：外逃贪官真能被美国遣返吗？　　2、富人　　不知道是怎么富起来的人和为富不仁的人，在中国，这两部分加起来几乎就是富人的全部，甚至单个部分就有是全部的可能。相关链接：中国人仇富情结来自何处&nbsp;&nbsp;&nbsp;&nbsp; 中国富人：六类危险、三大危机和九大成因&nbsp;&nbsp;　　3、经济学家　　就是只知道搞富人研究的人，其实这事也要怪穷人，没钱怎么搞经济，穷人和经济绝缘。　　4、中国男足球员　　闲暇时光踢球，本职工作是拿钱，然后消费摇头丸和漂亮女人。　　5、一些恶性的事件主谋　　也就是杀了几个人，该杀的人杀了几个不该杀的人。　　6、一些不道德事件的主角　　社会新闻里的主要内容，也就是包二奶或大学生同居等，据说上海某大学男女生被偷拍事件的女主角，就迫于互联网的压力自杀了。延伸阅读：赵忠祥是时代的牺牲品&nbsp;&nbsp; 赵忠祥老爷子说自己是弱势群体编辑：彭颖[1]&nbsp;[2]&nbsp;下一页&nbsp;
===================================================
SogouC/Reduced/财经/1270.txt	0.44010028
&nbsp&nbsp&nbsp&nbsp■风云榜&nbsp&nbsp&nbsp&nbsp近一个月来涨幅较大的高价股证券简称   区间涨幅(％)   昨收盘(元)   市盈率(去年年报)G航天(行情,论坛)            172.12        13.42              97.22G江铜(行情,论坛)            103.70        12.74              19.92中钨高新(行情,论坛)          99.15        11.73             589.34G中金(行情,论坛)             69.34        14.85              32.38G东软(行情,论坛)             66.81        11.27              54.46G五粮液(行情,论坛)           63.71        11.64              39.88贵研铂业(行情,论坛)          63.69        13.93             269.58G广电(行情,论坛)             63.02        13.84             109.61平高电气(行情,论坛)          62.33        14.45              42.77G宝钛(行情,论坛)             61.71        37.16              46.92驰宏锌锗(行情,论坛)          61.12        30.42              37.21宁波华翔(行情,论坛)          59.82         16.5              94.34G伊利(行情,论坛)             58.11        19.14              33.69石油济柴(行情,论坛)          57.71        20.36              32.76中国卫星(行情,论坛)          54.45        14.41             508.67G特变(行情,论坛)             52.62        11.33              38.56G合力(行情,论坛)             52.57           11              23.32东方锅炉(行情,论坛)          51.09        26.43              13.12上海家化(行情,论坛)          50.77        13.93              97.50G厦钨(行情,论坛)             50.67        15.44              43.27中材国际(行情,论坛)          49.47        26.98              49.23天地科技(行情,论坛)          48.15        16.43              31.48G中信(行情,论坛)             47.50         11.8              73.20贵州茅台(行情,论坛)          46.80        91.41              38.56天坛生物(行情,论坛)          46.45        11.01              51.94航天信息(行情,论坛)          46.20        30.41              36.94江钻股份(行情,论坛)          46.13        11.53              39.50中油化建(行情,论坛)          45.91         11.6              40.84G金马(行情,论坛)             45.89        11.19              33.61G长园(行情,论坛)             45.27        16.43              31.12南宁糖业(行情,论坛)          45.15        15.25             113.82华光股份(行情,论坛)          42.42        11.08              25.30G宏达(行情,论坛)             40.96        16.21              36.48G重机(行情,论坛)             39.62        15.47              27.56G安琪(行情,论坛)             39.56        13.12              28.55G鲁黄金(行情,论坛)           39.13        27.52              50.35G天威(行情,论坛)             39.09        23.34              75.95霞客环保(行情,论坛)          38.84        12.01              24.01G综超(行情,论坛)             38.23        17.14              33.08G现代(行情,论坛)             38.20        12.46              27.77&nbsp&nbsp&nbsp&nbsp数据来源：WIND资讯      统计、制表：徐效鸿
===================================================
SogouC/Reduced/财经/1385.txt	0.4201651
&nbsp&nbsp&nbsp&nbspA、H股股价比较低个股(5月8日)名称       AH价格比   A股价格(元)   H股价格(港元)   H股价格(元)G海螺(行情,论坛)          0.74         12.31           16.05         16.58G华能(行情,论坛)          0.79          4.85            5.95          6.15G鞍钢(行情,论坛)          0.79          6.01            7.35          7.59G马钢(行情,论坛)          0.85          2.59            2.95          3.05G中兴(行情,论坛)          0.86         26.87           30.35         31.35G皖通(行情,论坛)          0.88          5.43            5.95          6.15G兖煤(行情,论坛)          0.92          6.78            7.15          7.39G东电(行情,论坛)          0.97         15.84            15.8         16.32G深高速(行情,论坛)        0.99             4           3.925          4.05G中海(行情,论坛)          0.99          6.24             6.1          6.30青岛啤酒(行情,论坛)       1.06         10.63             9.7         10.02南方航空(行情,论坛)       1.08          2.32           2.075          2.14中国石化(行情,论坛)       1.20          6.52            5.25          5.42宁沪高速(行情,论坛)       1.23          6.15            4.85          5.01华电国际(行情,论坛)       1.24          2.99           2.325          2.40广船国际(行情,论坛)       1.29          6.44            4.85          5.01G江铜(行情,论坛)          1.29         12.74            9.55          9.87G广药(行情,论坛)          1.33          7.05            5.15          5.32上海石化(行情,论坛)       1.35          6.34            4.55          4.70
===================================================
SogouC/Reduced/财经/1268.txt	0.3988409
&nbsp&nbsp&nbsp&nbsp■异动股寻踪&nbsp&nbsp&nbsp&nbsp近5日成交量增幅较大个股代码         名称   5日均量较20日均量增幅    5日均量(手)   近5日涨跌幅(％)   市盈率   每股收益(一季)000803   金宇车城(行情,论坛)                 203.1％      38,548.10           －18.72   －5.57         －0.0268600401      G申龙(行情,论坛)                 116.9％     270,382.02             13.11    42.63            0.019600156   华升股份(行情,论坛)                 107.1％      49,510.70             26.63   －5.24           0.0094600592      G龙溪(行情,论坛)                 106.3％      43,203.67             15.74    20.57           0.1356600012      G皖通(行情,论坛)                  92.5％     134,968.51             14.56    12.94           0.1053000528      G柳工(行情,论坛)                  90.1％     200,796.24              7.04    12.73             0.16600077   国能集团(行情,论坛)                  89.7％      31,488.38             23.80    44.65           0.0372000001    深发展A(行情,论坛)                  87.3％     470,867.19             20.74    36.58            0.113000906   南方建材(行情,论坛)                  86.4％      82,915.80             35.59   286.27           0.0042600079      G人福(行情,论坛)                  82.7％     106,242.99             10.44    16.41            0.035600590      G泰豪(行情,论坛)                  80.1％      39,454.47             26.35    19.59           0.0753600501      G晨光(行情,论坛)                  78.2％      31,245.02             38.89    53.09           0.0164600859     王府井(行情,论坛)                  77.8％      83,039.95             25.66   103.21            0.126000899      G赣能(行情,论坛)                  74.8％      74,794.48              9.84    41.16           0.0327000629    G新钢钒(行情,论坛)                  74.3％     492,228.43             13.43    10.90            0.119600321   国栋建设(行情,论坛)                  74.2％      46,634.76             21.34    50.41             0.05600107     美尔雅(行情,论坛)                  73.2％      63,369.52             14.72   142.64           0.0028600278      G东创(行情,论坛)                  72.7％      47,957.99             11.19   306.49           0.0229600279    G重庆港(行情,论坛)                  70.9％      54,360.07             13.75    35.35            0.053000410      G沈机(行情,论坛)                  67.0％      86,779.55             29.71    32.00           0.0395600289   亿阳信通(行情,论坛)                  66.4％      63,103.24             31.55    43.92             0.06600016      G民生(行情,论坛)                  64.6％   1,741,349.02             10.69    15.51              0.1600283   钱江水利(行情,论坛)                  64.5％      34,392.29             10.50    58.72           0.0084600824      G益民(行情,论坛)                  63.5％     163,472.03             24.84    15.80            0.233600879      G火箭(行情,论坛)                  62.8％     162,078.02             28.63    32.66             0.06&nbsp&nbsp&nbsp&nbsp注：只考虑近20日均有交易的个股
===================================================
```

## 2. 提取指定文档关键词
### 2.1 训练语料
```
ExtractKeyWordTFIDF.train();
```
生成TF-IDF文件。训练好的模型存放在 model/idf.txt，格式如下：
```
adCenter	1
正式	2
筛选	1
以前	1
跻身	1
BBC	1
盐田港	1
考	1
```
### 2.2 使用示例
输出指定文档的关键词。
```
    String content = "今年互联网就业行情不好";
    KeyWordBean[] topNKeyWord = new ExtractKeyWordTFIDF().extractKeyWords(content, 3);
    for (KeyWordBean kw : topNKeyWord) {
        System.out.println(kw.getWord() + "-->" + kw.getWeights());
    }
```
输出：
```
互联网-->0.8250155
不好-->0.81230086
就业-->0.6208088
```